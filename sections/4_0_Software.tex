\clearpage
\section{Software}\label{sec:Software}
Das Kapitel Software befasst sich mit der Programmierung des Mikrocontroller \textit{nRF52840} sowie des \textit{GIS}.

\subsection{Software BMN}\label{subsec:SoftwareBMN}
Die Software auf dem \textit{BMN} (siehe Abschnitt \ref{subsec:BMN}) wird mit Hilfe der folgenden \textit{SDKs} von \textit{Nordic Semiconductor} entwickelt:

 \begin{itemize} 
	\item \textit{nRF5 SDK}\cite{nordic_semiconductor_nrf5_2019}
	\item \textit{nRF5 SDK for Mesh}\cite{nordic_semiconductor_nrf5_2019-1}
	\item \textit{Zephyr}\cite{zephyr_project_zephyr_2019}
\end{itemize}

Diese \textit{SDKs} enthalten eine sehr gut dokumentierte Bibliothek, die für den Quellcode des \textit{BMN} benötigt werden.

\todo [inline]{Software BMN beschreiben. Erledigt BOB}
\todo [inline]{UDP Datenübermittlung der Nodes direkt an Fremdsystem.}

\subsection{Software GIS}\label{subsec:SoftwareGIS}
Mit dem Ziel den Gateway Open Source und Open Hardware zu realisieren, soll eine einfache Linux-Distribution eingesetzt werden. Beim Raspberry-Pi 4 (siehe Abschnitt \ref{img:raspberryPi4}) eignet sich dafür besonders das Debian basierende Betriebssystem Raspbian da es eigens für die Raspberry-Pi Familie entwickelt wurde.

Basierend auf dieser Oberfläche können nun Anbindungen an Fremdsysteme wie \textit{Apple Homekit} oder \textit{KNX} mit den passenden Software Bausteinen realisiert werden. Welche Bausteine dies sein werden ist Teil der Umsetzung für eine spezifische Anwendung welche noch nicht festgelegt ist. Daher wird in erster Linie mit einfachen Sprachen wie beispielsweise \textit{Node.js} oder \textit{Python} eine Ein- und Ausgabe von Daten oder Befehlen umgesetzt. 

\subsection{Human Machine Interface (HMI)}\label{subsec:HMI_SW}
Das \textit{HMI} wird kein primäres Ziel sein. Angedacht wird ein einfaches \textit{Webinterface} zur Konfiguration des \textit{Mesh-Netzwerkes}.

\subsection{Security}\label{subsec:Security}
Der Bluetooth-Mesh-Standart von (\textit{SIG}) stellt vier verschiedene Sicherheitspakete zur Verfügung.\cite{nordic_semiconductor_nordic_2019} 

 \begin{itemize} 
 	\item Authentifizieren durch z.B. LED die auf Board drei Mal blinkt 
 	\item Zwei Level AES-CCM Verschlüsselung mit 128-bit Schlüssel
 	\item Verbergen der Metadaten durch einen privaten Schlüssel
 	\item Laufnummer zur Verhinderung von wiederholenden Nachrichten   
 \end{itemize}

\todo [inline]{Einige Sätze zu den Sicherheitsfunktionen die implementiert werden. Evtl. die verschiedenen Varianten auflisten und unsere Präferenzen ausweisen. BOB Erledigt}

\subsection{Open Source Projekt}\label{subsec:OSP}
Die gesamte Software im Projekt 5 wird als "'Open Source Software"' deklariert. Damit die Software global zur Verfügung steht, wird diese unter der "'General Public License Version 3"' (GPLv3) lizenziert. Die GPL beinhaltet ein starkes "'copyleft"', d.h. das Software-Projekt muss öffentlich und gebührenfrei zugänglich sein und der Quellcode muss jedem ausgehändigt werden, der danach fragt. Das starke "'copyleft"' bringt aber den Vorteil, dass die Lizenz vom Projekt nicht verändert werden kann. Wird die Software von jemandem weiterentwickelt muss dieser die GPL Lizenz weiterführen und kann kein "'closed source"' Projekt daraus erstellen. Ein weiterer Vorteil im Hinblick auf die Bachelorarbeit ist, dass das "'copyright"' einer "'open source"' Lizenz beim Entwickler bleibt. Das bedeutet die Grundlage der Software kann weiterentwickelt werden z.B. als eine Software die Hausautomation steuert und somit als "'closed source"' verwendbar ist.\cite{jaeger_was_2018}


